<script>
const formElm = document.getElementsByTagName('form')[0];
const messageElm = document.getElementsByName('message')[0];
const channelElms = document.getElementsByTagName('option');

document.addEventListener('keydown', function(event) {
  if((event.ctrlKey || event.metaKey) && event.shiftKey){
    
    console.log(event.code);
    
    switch(event.code){
      case 'KeyM':
        messageElm.focus();
        break

      case 'KeyN':
        window.scroll({
          top: 0,
          behavior: "smooth",
        });
        break
        
      case 'KeyH':
        location.replace("/");
        break
        
      case 'KeyR':
        location.replace(location.href);
        break
      
      case 'KeyL':
        if(!(messageElm.value == '')){
          formElm.submit();
        }
        break
        
      case 'KeyJ':
        channelElms[0].toggleAttribute('selected');
        channelElms[1].toggleAttribute('selected');
        break

      // 端末によっては、Slashの場合既存のキーボードショートカットと重複するのでPeriodを追加した。
      case 'Slash':
      case 'Period':
        document.getElementById('shortcut_help').classList.toggle('hiddenElm');
        break

    }
  }
});
</script>
